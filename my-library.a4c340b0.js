!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var i={id:e,exports:{}};return r[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){t[e]=r},e.parcelRequired7c6=n);var i=n("dNYR7"),a=n("ghnK3");function o(e){const r=e.map((e=>{return`<li class="film__item" id="${e.id}"><a class="film__item__link">\n                ${t=e.poster_path,n=e.name,i=e.title,t?`<img src=" ${a=t,`https://www.themoviedb.org/t/p/w500${a}`}" alt="${n||i}" loading="lazy" />`:""}\n                <h2>${function(e){if(e)return e.length>=32?e.substr(0,25)+"...":e}(e.title||e.name)}</h2>\n                <p> ${function(e){const r=[];if(d.map((t=>{for(const n of e)t.id===n&&r.push(t.name)})),r.length>=2){const e=r.slice(0,2);return e[2]="Other",e}return"Other"}(e.genres)} | ${r=e.release_date,r?r.split("-")[0]:"2022"}</p>\n                <button class="film__trailer-btn" type="button">Trailer <span class="film__trailer-btn">&#9654;</span></button>\n              </a>\n            </li>`;var r,t,n,i,a})).join("");y.cardHolderLibrary.innerHTML=r}n("78qpV");const d=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];var s=n("aYvV9");function l(){const e=JSON.parse(localStorage.getItem("movies-watched"));(null==e?void 0:e.length)&&((0,s.spiner)(),o(e),(0,s.spinerRemove)())}function c(){const e=JSON.parse(localStorage.getItem("movies-queue"));(null==e?void 0:e.length)&&((0,s.spiner)(),o(e),(0,s.spinerRemove)())}s=n("aYvV9");var u=n("3ozO0"),m=n("1Gwk9");const y={cardHolderLibrary:document.querySelector(".card-holder"),footerLink:document.querySelector(".footer__link"),stickyHeaderMyLibrary:document.querySelector(".js-my-library-header__sticky"),watchedBtn:document.querySelector(".js-watched"),queuedBtn:document.querySelector(".js-queue")},f=(window.onscroll=function(){window.pageYOffset>200?y.stickyHeaderMyLibrary.classList.add("my-library-header__sticky"):y.stickyHeaderMyLibrary.classList.remove("my-library-header__sticky")},new(0,i.default));y.footerLink.addEventListener("click",a.onOpenTeamModal),y.cardHolderLibrary.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;if(e.target.classList.contains("film__trailer-btn"))return u.default.showTrailer(e.target.closest("li").id);f.movieId=e.target.closest("li").id,(0,s.spiner)(),f.fetchById().then((e=>{(0,m.showModal)(e.data),(0,s.spinerRemove)()}))})),y.watchedBtn.addEventListener("click",(function(e){if(e.target.classList.contains("my-library-header__button--current"))return;e.target.classList.add("my-library-header__button--current"),y.queuedBtn.classList.remove("my-library-header__button--current"),y.cardHolderLibrary.innerHTML="",l()})),y.queuedBtn.addEventListener("click",(function(e){if(e.target.classList.contains("my-library-header__button--current"))return;e.target.classList.add("my-library-header__button--current"),y.watchedBtn.classList.remove("my-library-header__button--current"),y.cardHolderLibrary.innerHTML="",c()})),l()}();
//# sourceMappingURL=my-library.a4c340b0.js.map
