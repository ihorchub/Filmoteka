var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequired7c6=n);var i=n("cTOKP"),a=n("baGT8");n("1iCTa");var o=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,y=d||m||Function("return this")(),f=Object.prototype.toString,b=Math.max,_=Math.min,g=function(){return y.Date.now()};function p(e,t,r){var n,i,a,o,c,s,l=0,u=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=n,a=i;return n=i=void 0,l=t,o=e.apply(a,r)}function f(e){return l=e,c=setTimeout(v,t),u?y(e):o}function p(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-l>=a}function v(){var e=g();if(p(e))return S(e);c=setTimeout(v,function(e){var r=t-(e-s);return d?_(r,a-(e-l)):r}(e))}function S(e){return c=void 0,m&&n?y(e):(n=i=void 0,o)}function q(){var e=g(),r=p(e);if(n=arguments,i=this,s=e,r){if(void 0===c)return f(s);if(d)return c=setTimeout(v,t),y(s)}return void 0===c&&(c=setTimeout(v,t)),o}return t=L(t)||0,h(r)&&(u=!!r.leading,a=(d="maxWait"in r)?b(L(r.maxWait)||0,t):a,m="trailing"in r?!!r.trailing:m),q.cancel=function(){void 0!==c&&clearTimeout(c),l=0,n=s=i=c=void 0},q.flush=function(){return void 0===c?o:S(g())},q}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):c.test(e)?NaN:+e}var v=n("iVxrX");function S(e){x.cardHolderLibrary.innerHTML=e.map((({id:e,poster_path:t,name:r,title:n,release_date:i,genres:a,original_language:o})=>`<li class="film__item" id="${e}"><a class="film__item__link">\n                ${(0,v.getMarkupImgPoster)(o,t,r,n)}\n                <h2>${(0,v.getShortName)(n||r)}</h2>\n                <p> ${(0,v.getGenresByID)(a)} | ${(0,v.getYear)(i)}</p>\n                <button class="film__trailer-btn" type="button">Trailer <span class="film__trailer-btn">&#9654;</span></button>\n              </a>\n            </li>`)).join("")}var q=n("2Dfe2"),k=n("2nhTy");const w=document.querySelector(".empty__page"),T=document.querySelector(".empty__page-text");let B=1;function N(e=0){e&&(B=e),w.classList.add("is-hidden"),T.classList.add("is-hidden"),(0,q.spiner)();const t=JSON.parse(localStorage.getItem("movies-watched"));t?.length?M(t):(w.classList.remove("is-hidden"),T.classList.remove("is-hidden"),(0,q.spinerRemove)())}function H(e=0){e&&(B=e),w.classList.add("is-hidden"),T.classList.add("is-hidden"),(0,q.spiner)();const t=JSON.parse(localStorage.getItem("movies-queue"));t?.length?M(t):(w.classList.remove("is-hidden"),T.classList.remove("is-hidden"),(0,q.spinerRemove)())}function M(e){let t=null;e.length<=18&&(S(e),(0,q.spinerRemove)()),t=e.length%18?Math.floor(e.length/18)+1:e.length/18,B===t?(S(e.slice(18*B-18,e.length)),(0,q.spinerRemove)()):(S(e.slice(18*B-18,18*B)),(0,q.spinerRemove)()),(0,k.getPagination)(B,t,!0)}q=n("2Dfe2");var j=n("eAoKO"),O=n("422V3"),E=n("ka9Wh");const x={topButton:document.querySelector(".btn_top"),body:document.querySelector("body"),cardHolderLibrary:document.querySelector(".card-holder"),footerLink:document.querySelector(".footer__link"),stickyHeaderMyLibrary:document.querySelector(".js-my-library-header__sticky"),watchedBtn:document.querySelector(".js-watched"),queuedBtn:document.querySelector(".js-queue"),watchedBtnSticky:document.querySelector(".js-watched__sticky"),queuedBtnSticky:document.querySelector(".js-queue__sticky"),movieModal:document.querySelector(".js-movie-modal"),pagination:document.querySelector(".pagination__container")},$=(window.onscroll=function(){window.pageYOffset>200?x.stickyHeaderMyLibrary.classList.add("my-library-header__sticky"):x.stickyHeaderMyLibrary.classList.remove("my-library-header__sticky")},new(0,i.default));function R(e){e.target.classList.contains("my-library-header__button--current")||(x.watchedBtn.classList.add("my-library-header__button--current"),x.queuedBtn.classList.remove("my-library-header__button--current"),x.watchedBtnSticky.classList.add("my-library-header__button--current"),x.queuedBtnSticky.classList.remove("my-library-header__button--current"),x.cardHolderLibrary.innerHTML="",x.pagination.innerHTML="",(0,E.onSubmitScroll)(),N(1))}function I(e){e.target.classList.contains("my-library-header__button--current")||(x.queuedBtn.classList.add("my-library-header__button--current"),x.watchedBtn.classList.remove("my-library-header__button--current"),x.queuedBtnSticky.classList.add("my-library-header__button--current"),x.watchedBtnSticky.classList.remove("my-library-header__button--current"),x.cardHolderLibrary.innerHTML="",x.pagination.innerHTML="",(0,E.onSubmitScroll)(),H(1))}x.topButton.addEventListener("click",E.onSubmitScroll),x.footerLink.addEventListener("click",a.onOpenTeamModal),x.cardHolderLibrary.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;if(e.target.classList.contains("film__trailer-btn"))return j.default.showTrailer(e.target.closest("li").id);$.movieId=e.target.closest("li").id,(0,q.spiner)(),$.fetchById().then((e=>{(0,O.showModal)(e.data),(0,q.spinerRemove)()}))})),x.watchedBtn.addEventListener("click",R),x.queuedBtn.addEventListener("click",I),x.movieModal.addEventListener("click",(function(e){if(e.target.classList.contains("add-watched")&&x.watchedBtn.classList.contains("my-library-header__button--current")){const e=x.cardHolderLibrary.children.length;x.cardHolderLibrary.innerHTML="",N(Number(document.querySelector(".pagination__item--current")&&1===e?document.querySelector(".pagination__item--current").id-1:0))}if(e.target.classList.contains("add-queue")&&x.queuedBtn.classList.contains("my-library-header__button--current")){const e=x.cardHolderLibrary.children.length;x.cardHolderLibrary.innerHTML="",H(Number(document.querySelector(".pagination__item--current")&&1===e?document.querySelector(".pagination__item--current").id-1:0))}})),x.watchedBtnSticky.addEventListener("click",R),x.queuedBtnSticky.addEventListener("click",I),x.pagination.addEventListener("click",(function(e){if(e.target===e.currentTarget||"UL"===e.target.nodeName)return;let t=null;if("svg"===e.target.nodeName||"BUTTON"===e.target.nodeName||"path"===e.target.nodeName)if(e.target.closest("button").classList.contains("pagination__left-btn")&&e.target.closest("button").classList.contains("on"))t=Number(document.querySelector(".pagination__item--current").id)-1;else{if(!e.target.closest("button").classList.contains("pagination__right-btn")||!e.target.closest("button").classList.contains("on"))return;t=Number(document.querySelector(".pagination__item--current").id)+1}else if(isNaN(e.target.closest("li").id))if("+"==e.target.closest("li").id)t=Number(document.querySelector(".pagination__item--current").id)+3;else{if("-"!=e.target.closest("li").id)return;t=Number(document.querySelector(".pagination__item--current").id)-3}else t=Number(e.target.closest("li").id);x.watchedBtn.classList.contains("my-library-header__button--current")?((0,E.onSubmitScroll)(),N(t)):((0,E.onSubmitScroll)(),H(t))})),N();
//# sourceMappingURL=my-library.7335cfc5.js.map
