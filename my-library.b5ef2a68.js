!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequired7c6=n);var i=n("dNYR7"),a=n("ghnK3");n("78qpV");var o="Expected a function",c=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,f=m||y||Function("return this")(),b=Object.prototype.toString,_=Math.max,g=Math.min,p=function(){return f.Date.now()};function h(e,t,r){var n,i,a,c,s,l,u=0,d=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError(o);function f(t){var r=n,a=i;return n=i=void 0,u=t,c=e.apply(a,r)}function b(e){return u=e,s=setTimeout(S,t),d?f(e):c}function h(e){var r=e-l;return void 0===l||r>=t||r<0||m&&e-u>=a}function S(){var e=p();if(h(e))return q(e);s=setTimeout(S,function(e){var r=t-(e-l);return m?g(r,a-(e-u)):r}(e))}function q(e){return s=void 0,y&&n?f(e):(n=i=void 0,c)}function k(){var e=p(),r=h(e);if(n=arguments,i=this,l=e,r){if(void 0===s)return b(l);if(m)return s=setTimeout(S,t),f(l)}return void 0===s&&(s=setTimeout(S,t)),c}return t=L(t)||0,v(r)&&(d=!!r.leading,a=(m="maxWait"in r)?_(L(r.maxWait)||0,t):a,y="trailing"in r?!!r.trailing:y),k.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=i=s=void 0},k.flush=function(){return void 0===s?c:q(p())},k}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var r=l.test(e);return r||u.test(e)?d(e.slice(2),r?2:8):s.test(e)?NaN:+e}var S=n("5rOqX");function q(e){$.cardHolderLibrary.innerHTML=e.map((({id:e,poster_path:t,name:r,title:n,release_date:i,genres:a,original_language:o})=>`<li class="film__item" id="${e}"><a class="film__item__link">\n                ${(0,S.getMarkupImgPoster)(o,t,r,n)}\n                <h2>${(0,S.getShortName)(n||r)}</h2>\n                <p> ${(0,S.getGenresByID)(a)} | ${(0,S.getYear)(i)}</p>\n                <button class="film__trailer-btn" type="button">Trailer <span class="film__trailer-btn">&#9654;</span></button>\n              </a>\n            </li>`)).join("")}var k=n("aYvV9"),w=n("jcFG7");const B=document.querySelector(".empty__page"),N=document.querySelector(".empty__page-text");let T=1;const H=18;function M(e=0){e&&(T=e),B.classList.add("is-hidden"),N.classList.add("is-hidden"),(0,k.spiner)();const t=JSON.parse(localStorage.getItem("movies-watched"));(null==t?void 0:t.length)?O(t):(B.classList.remove("is-hidden"),N.classList.remove("is-hidden"),(0,k.spinerRemove)())}function j(e=0){e&&(T=e),B.classList.add("is-hidden"),N.classList.add("is-hidden"),(0,k.spiner)();const t=JSON.parse(localStorage.getItem("movies-queue"));(null==t?void 0:t.length)?O(t):(B.classList.remove("is-hidden"),N.classList.remove("is-hidden"),(0,k.spinerRemove)())}function O(e){let t=null;e.length<=H&&(q(e),(0,k.spinerRemove)()),t=e.length%H?Math.floor(e.length/H)+1:e.length/H,T===t?(q(e.slice(T*H-H,e.length)),(0,k.spinerRemove)()):(q(e.slice(T*H-H,T*H)),(0,k.spinerRemove)()),(0,w.getPagination)(T,t,!0)}k=n("aYvV9");var E=n("3ozO0"),x=n("1Gwk9"),R=n("dWD7p");const $={topButton:document.querySelector(".btn_top"),body:document.querySelector("body"),cardHolderLibrary:document.querySelector(".card-holder"),footerLink:document.querySelector(".footer__link"),stickyHeaderMyLibrary:document.querySelector(".js-my-library-header__sticky"),watchedBtn:document.querySelector(".js-watched"),queuedBtn:document.querySelector(".js-queue"),watchedBtnSticky:document.querySelector(".js-watched__sticky"),queuedBtnSticky:document.querySelector(".js-queue__sticky"),movieModal:document.querySelector(".js-movie-modal"),pagination:document.querySelector(".pagination__container")},I=(window.onscroll=function(){window.pageYOffset>200?$.stickyHeaderMyLibrary.classList.add("my-library-header__sticky"):$.stickyHeaderMyLibrary.classList.remove("my-library-header__sticky")},new(0,i.default));function D(e){e.target.classList.contains("my-library-header__button--current")||($.watchedBtn.classList.add("my-library-header__button--current"),$.queuedBtn.classList.remove("my-library-header__button--current"),$.watchedBtnSticky.classList.add("my-library-header__button--current"),$.queuedBtnSticky.classList.remove("my-library-header__button--current"),$.cardHolderLibrary.innerHTML="",$.pagination.innerHTML="",(0,R.onSubmitScroll)(),M(1))}function Y(e){e.target.classList.contains("my-library-header__button--current")||($.queuedBtn.classList.add("my-library-header__button--current"),$.watchedBtn.classList.remove("my-library-header__button--current"),$.queuedBtnSticky.classList.add("my-library-header__button--current"),$.watchedBtnSticky.classList.remove("my-library-header__button--current"),$.cardHolderLibrary.innerHTML="",$.pagination.innerHTML="",(0,R.onSubmitScroll)(),j(1))}$.topButton.addEventListener("click",R.onSubmitScroll),$.footerLink.addEventListener("click",a.onOpenTeamModal),$.cardHolderLibrary.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;if(e.target.classList.contains("film__trailer-btn"))return E.default.showTrailer(e.target.closest("li").id);I.movieId=e.target.closest("li").id,(0,k.spiner)(),I.fetchById().then((e=>{(0,x.showModal)(e.data),(0,k.spinerRemove)()}))})),$.watchedBtn.addEventListener("click",D),$.queuedBtn.addEventListener("click",Y),$.movieModal.addEventListener("click",(function(e){if(e.target.classList.contains("add-watched")&&$.watchedBtn.classList.contains("my-library-header__button--current")){const e=$.cardHolderLibrary.children.length;$.cardHolderLibrary.innerHTML="",M(Number(document.querySelector(".pagination__item--current")&&1===e?document.querySelector(".pagination__item--current").id-1:0))}if(e.target.classList.contains("add-queue")&&$.queuedBtn.classList.contains("my-library-header__button--current")){const e=$.cardHolderLibrary.children.length;$.cardHolderLibrary.innerHTML="",j(Number(document.querySelector(".pagination__item--current")&&1===e?document.querySelector(".pagination__item--current").id-1:0))}})),$.watchedBtnSticky.addEventListener("click",D),$.queuedBtnSticky.addEventListener("click",Y),$.pagination.addEventListener("click",(function(e){if(e.target===e.currentTarget||"UL"===e.target.nodeName)return;let t=null;if("svg"===e.target.nodeName||"BUTTON"===e.target.nodeName||"path"===e.target.nodeName)if(e.target.closest("button").classList.contains("pagination__left-btn")&&e.target.closest("button").classList.contains("on"))t=Number(document.querySelector(".pagination__item--current").id)-1;else{if(!e.target.closest("button").classList.contains("pagination__right-btn")||!e.target.closest("button").classList.contains("on"))return;t=Number(document.querySelector(".pagination__item--current").id)+1}else if(isNaN(e.target.closest("li").id))if("+"==e.target.closest("li").id)t=Number(document.querySelector(".pagination__item--current").id)+3;else{if("-"!=e.target.closest("li").id)return;t=Number(document.querySelector(".pagination__item--current").id)-3}else t=Number(e.target.closest("li").id);$.watchedBtn.classList.contains("my-library-header__button--current")?((0,R.onSubmitScroll)(),M(t)):((0,R.onSubmitScroll)(),j(t))})),M()}();
//# sourceMappingURL=my-library.b5ef2a68.js.map
